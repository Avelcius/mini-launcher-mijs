# Лаунчер для ботов

Это простой лаунчер для запуска и управления несколькими ботами на Node.js. Он автоматически перезапускает ботов в случае сбоя и предоставляет API для мониторинга их состояния.

## Основные возможности

-   Запуск нескольких ботов, определенных в файле `start.txt`.
-   Автоматический перезапуск ботов при падении.
-   Индивидуальные файлы `.env` для каждого бота.
-   Встроенный API-сервер для получения статуса ботов (PID, CPU, память, время работы).

## Установка

1.  Клонируйте репозиторий.
2.  Установите зависимости:
    ```bash
    npm install
    ```

## Настройка

### Добавление ботов

Чтобы добавить нового бота, просто добавьте команду для его запуска в файл `start.txt`. Каждая команда должна быть на новой строке.

**Пример `start.txt`:**

```
(main_bot) node bots/bot1/bot1.js
(worker_bot) node bots/bot2/bot2.js
```

-   `(main_bot)`: Это имя бота, которое будет использоваться в логах и API. Если имя не указано, оно будет сгенерировано автоматически.
-   `node bots/bot1/bot1.js`: Это команда для запуска бота.

### Переменные окружения

Вы можете создать файл `.env` в директории каждого бота (например, `bots/bot1/.env`), чтобы задать для него уникальные переменные окружения. Лаунчер автоматически загрузит их при запуске бота.

## Использование

Для запуска лаунчера выполните команду:

```bash
node launcher.js
```

### API для мониторинга

Лаунчер запускает API-сервер для мониторинга состояния ботов.

-   **URL:** `GET /status`
-   **Порт по умолчанию:** `3000` (можно изменить с помощью переменной окружения `PORT`)

**Пример запроса:**

```bash
curl http://localhost:3000/status
```

**Пример ответа:**

```json
[
  {
    "name": "main_bot",
    "username": "MyBotUsername",
    "status": "running",
    "pid": 12345,
    "cpu": 10.5,
    "memory": 52428800,
    "uptime": 3600
  },
  {
    "name": "worker_bot",
    "username": null,
    "status": "restarting",
    "pid": null,
    "cpu": 0,
    "memory": 0,
    "uptime": 0
  }
]
```
